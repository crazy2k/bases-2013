\section{Modelo Relacional}

% Notación
\begin{framed} \centering
  \underline{primary key} \hspace*{3cm}
  \dotuline{foreign key}
\end{framed}

% -------------------------------------------------------------------- %
% Usuario
% -------------------------------------------------------------------- %

\vspace*{0.1cm}
\noindent
\textbf{Usuario}(\underline{
	id\_user}, 
	username, 
	clave, \dotuline{
	nacionalidad})

\begin{itemize}[noitemsep]
	\item $FK = \{nacionalidad\}$
	\item $PK = CK = \{id\_user\}$
	\item $Usuario.nacionalidad$ debe estar en $Pais.id\_pais$
\end{itemize}

% -------------------------------------------------------------------- %
% Encuesta
% -------------------------------------------------------------------- %

\vspace*{0.1cm}
\noindent
\textbf{Encuesta}(\underline{
	id\_encuesta},
	viaja\_frecuentemente, 
	preferencias\_de\_comida, 
	ciudades\_elegidas, \\ \hspace*{2cm} 
	clase\_mas\_frecuente, 
	epoca\_mas\_frecuente, 
	acompaniantes)
\begin{itemize}[noitemsep]
	\item $FK = \{\}$
	\item $PK = CK = \{id\_encuesta\}$	
\end{itemize}

% -------------------------------------------------------------------- %
% Datos Personales
% -------------------------------------------------------------------- %

\vspace*{0.1cm}
\noindent
\textbf{DatosPersonales}(\underline{\dotuline{
	id\_user}, 
	nombre, 
	apellido},
	email, 
	profesión, 
	fecha\_nacimiento)

\begin{itemize}[noitemsep]
	\item $FK = \{id\_user, id\_pais\}$
	\item $PK = CK = \{(id\_user, nombre, apellido\}$
	\item $DatosPersonales.id\_user$ debe estar en $Usuario.id\_user$
	\item $DatosPersonales.id\_pais$ debe estar en $Pais.id\_pais$
\end{itemize}

% -------------------------------------------------------------------- %
% DatosTarjeta
% -------------------------------------------------------------------- %

\vspace*{0.1cm}
\noindent
\textbf{DatosTarjeta}(\underline{\dotuline{
	id\_user}, 
	nro\_tarjeta}, 
    vencimiento)

\begin{itemize}[noitemsep]
	\item $FK = \{id\_user\}$
	\item $PK = CK = \{(id\_user, nro\_tarjeta\}$
	\item $DatosTarjeta.id\_user$ debe estar en $Usuario.id\_user$
\end{itemize}

% -------------------------------------------------------------------- %
% Teléfono
% -------------------------------------------------------------------- %

\noindent
\textbf{Telefono}(\underline{
	nro\_tel})

\begin{itemize}[noitemsep]
    \item $FK = \{\}$
    \item $PK = CK = \{nro\_tel\}$    
\end{itemize}

% -------------------------------------------------------------------- %
% Atiende
% -------------------------------------------------------------------- %

\vspace*{0.1cm}
\noindent
\textbf{Atiende}(\underline{\dotuline{
	id\_user, 
	nro\_tel}})

\begin{itemize}[noitemsep]
	\item $FK = \{id\_user, nro\_tel\}$
	\item $PK = CK = \{(id\_user, nro\_tel)\}$
	\item $Atiende.id\_user$ debe estar en $Usuario.id\_user$
	\item $Atiende.nro\_tel$ debe estar en $Telefono.nro\_tel$
\end{itemize}

% -------------------------------------------------------------------- %
% Responde
% -------------------------------------------------------------------- %

\newpage
\vspace*{0.1cm}
\noindent
\textbf{Responde}(\underline{\dotuline{
	id\_a, 
	nro\_tel}})

\begin{itemize}[noitemsep]
    \item $FK = \{id\_a, nro\_tel\}$
    \item $PK = CK = \{(id\_a, nro\_tel)\}$
    \item $Atiende.id\_a$ debe estar en $Aeropuerto.id\_a$
    \item $Atiende.nro\_tel$ debe estar en $Telefono.nro\_tel$
\end{itemize}

% -------------------------------------------------------------------- %
% Dirección
% -------------------------------------------------------------------- %

\vspace*{0.1cm}
\noindent
\textbf{Direccion}(\underline{
	calle, 
	nro}, 
    localidad, 
    código postal)

\begin{itemize}[noitemsep]
    \item $FK = \{\}$
    \item $PK = CK = \{(calle, numero)\}$    
\end{itemize}

% -------------------------------------------------------------------- %
% Vive
% -------------------------------------------------------------------- %

\vspace*{0.1cm}
\noindent
\textbf{Vive}(\underline{\dotuline{
	id\_user, 
	calle, 
	nro}})

\begin{itemize}[noitemsep]
    \item $FK = \{id\_user, calle, nro\}$
    \item $PK = CK = \{(id\_user, calle, nro)\}$
    \item $Vive.id\_user$ debe estar en $Usuario.id\_user$
    \item $Vive.(calle, nro)$ debe estar en $Direccion.(calle, nro)$
\end{itemize}

% -------------------------------------------------------------------- %
% Factura
% -------------------------------------------------------------------- %

\vspace*{0.1cm}
\noindent
\textbf{Factura}(\underline{\dotuline{
	id\_user, 
	calle, 
	nro}})

\begin{itemize}[noitemsep]
    \item $FK = \{id\_user, calle, nro\}$
    \item $PK = CK = \{(id\_user, calle, nro)\}$
    \item $Vive.id\_user$ debe estar en $Usuario.id\_user$
    \item $Vive.(calle, nro)$ debe estar en $Direccion.(calle, nro)$
\end{itemize}

% -------------------------------------------------------------------- %
% Está
% -------------------------------------------------------------------- %

\vspace*{0.1cm}
\noindent
\textbf{Está}(\underline{\dotuline{
	id\_a, 
	calle, 
	nro}})

\begin{itemize}[noitemsep]
    \item $FK = \{id\_a, calle, nro\}$
    \item $PK = CK = \{(id\_a, calle, nro)\}$
    \item $Vive.id\_a$ debe estar en $Aeropuerto.id\_a$
    \item $Vive.(calle, nro)$ debe estar en $Direccion.(calle, nro)$
\end{itemize}

% -------------------------------------------------------------------- %
% Reserva
% -------------------------------------------------------------------- %

\vspace*{0.1cm}
\noindent
\textbf{Reserva}(\underline{
	id\_reserva}, 
	caducidad, \dotuline{
    id\_estado})

\begin{itemize}[noitemsep]
	\item $FK = \{id\_estado\}$
	\item $PK = CK = \{id\_reserva\}$
	\item $Reserva.id\_estado$ debe estar en $Estado.id\_estado$
\end{itemize}

% -------------------------------------------------------------------- %
% Hace
% -------------------------------------------------------------------- %

\newpage
\vspace*{0.1cm}
\noindent
\textbf{Hace}(\underline{\dotuline{
	id\_reserva, 
	id\_user}})

\begin{itemize}[noitemsep]
	\item $FK = \{id\_reserva, id\_user\}$
	\item $PK = CK = \{(id\_reserva, id\_user)\}$
	\item $Hace.id\_reserva$ debe estar en $Reserva.id\_reserva$
	\item $Hace.id\_user$ debe estar en $Usuario.id\_user$
\end{itemize}

% -------------------------------------------------------------------- %
% Estado
% -------------------------------------------------------------------- %

\vspace*{0.1cm}
\noindent
\textbf{Estado}(\underline{
	id\_estado}, 
	descripcion)

\begin{itemize}[noitemsep]
	\item $FK = \emptyset$
	\item $PK = CK = \{id\_estado\}$
\end{itemize}

% -------------------------------------------------------------------- %
% Tiene
% -------------------------------------------------------------------- %

\vspace*{0.1cm}
\noindent
\textbf{Tiene}(\underline{\dotuline{
	id\_res, 
	id\_serv, 
	id\_clase}})

\begin{itemize}[noitemsep]
	\item $FK = \{id\_res, id\_serv, id\_clase\}$
	\item $PK = CK = \{(id\_res, id\_serv, id\_clase)\}$
	\item $Tiene.id\_serv$ debe estar en $Servicio.id\_serv$
	\item $Tiene.id\_clase$ debe estar en $Clase.id\_clase$
	\item $Tiene.id\_res$ debe estar en $Reserva.id\_res$
\end{itemize}

% -------------------------------------------------------------------- %
% Servicio
% -------------------------------------------------------------------- %

\vspace*{0.1cm}
\noindent
\textbf{Servicio}(\underline{
	id\_servicio}, 
	salida, 
	llegada,
	%hora\_salida, 
	%hora\_llegada, 
	\dotuline{
	id\_vuelo, 
	id\_av})

\begin{itemize}[noitemsep]
	\item $FK = \{id\_vuelo, id\_av\}$
	\item $PK = CK = \{id\_servicio\}$
	\item $Servicio.id\_vuelo$ debe estar en $Vuelo.id\_vuelo$
	\item $Servicio.id\_av$ debe estar en $Avion.id\_avion$
\end{itemize}

% -------------------------------------------------------------------- %
% Brinda
% -------------------------------------------------------------------- %

\vspace*{0.1cm}
\noindent
\textbf{Brinda}(\underline{\dotuline{
	id\_serv, 
	id\_clase}}, 
	precio)

\begin{itemize}[noitemsep]
	\item $FK = \{id\_serv, id\_clase\}$
	\item $PK = CK = \{(id\_serv, id\_clase)\}$
	\item $Brinda.id\_serv$ debe estar en $Servicio.id\_serv$
	\item $Brinda.id\_clase$ debe estar en $Clase.id\_clase$
\end{itemize}

% -------------------------------------------------------------------- %
% Clase
% -------------------------------------------------------------------- %

\vspace*{0.1cm}
\noindent
\textbf{Clase}(\underline{
	id\_clase}, 
	descripcion)

\begin{itemize}[noitemsep]
	\item $FK = \{\}$
	\item $PK = CK = \{id\_clase\}$
\end{itemize}

% -------------------------------------------------------------------- %
% Vuelo
% -------------------------------------------------------------------- %

\newpage
\vspace*{0.1cm}
\noindent
\textbf{Vuelo}(\underline{
	id\_vuelo}, \dotuline{
	a\_salida}, \dotuline{
	a\_llegada})

\begin{itemize}[noitemsep]
	\item $FK = \{a\_salida, a\_llegada\}$
	\item $PK = CK = \{nro\_vuelo\}$
	\item $Vuelo.a\_salida$ debe estar en $Aeropuerto.id\_a$
	\item $Vuelo.a\_llegada$ debe estar en $Aeropuerto.id\_a$
\end{itemize}

% -------------------------------------------------------------------- %
% Avión
% -------------------------------------------------------------------- %

\vspace*{0.1cm}
\noindent
\textbf{Avion}(\underline{
	id\_avion}, 
	modelo, 
	anio\_fabricacion, 
    millas, 
    asientos, 
    origen)

\begin{itemize}[noitemsep]
	\item $FK = \emptyset$
	\item $PK = CK = \{id\_avion\}$
\end{itemize}

% -------------------------------------------------------------------- %
% Distribuido
% -------------------------------------------------------------------- %

\vspace*{0.1cm}
\noindent
\textbf{Distribuido}(\underline{\dotuline{
	id\_av, 
	id\_clase}},
	asientos)

\begin{itemize}[noitemsep]
	\item $FK = \{id\_av, id\_clase\}$
	\item $PK = CK = \{(id\_av, id\_clase)\}$
	\item $SeDistribuyenEn.id\_av$ debe estar en $Avion.id\_avion$
	\item $SeDistribuyenEn.id\_clase$ debe estar en $Clase.id\_clase$
\end{itemize}

% -------------------------------------------------------------------- %
% Tripulante
% -------------------------------------------------------------------- %

\vspace*{0.1cm}
\noindent
\textbf{Tripulante}(\underline{
	id\_trip}, 
	nombre)

\begin{itemize}[noitemsep]
	\item $FK = \emptyset$
	\item $PK = CK = \{id\_trip\}$
\end{itemize}

% -------------------------------------------------------------------- %
% Tripulado
% -------------------------------------------------------------------- %

\vspace*{0.1cm}
\noindent
\textbf{Tripulado}(\underline{
	id\_trip, 
	id\_av})

\begin{itemize}[noitemsep]
	\item $FK = \{id\_trip, id\_av\}$
	\item $PK = CK = \{(id\_trip, id\_av)\}$
	\item $TripuladoPor.id\_trip$ debe estar en
		$Tripulante.id\_trip$
	\item $TripuladoPor.id\_av$ debe estar en $Avion.id\_avion$
\end{itemize}

% -------------------------------------------------------------------- %
% Pais
% -------------------------------------------------------------------- %

\vspace*{0.1cm}
\noindent
\textbf{Pais}(\underline{
	id\_pais}, 
	nombre)

\begin{itemize}[noitemsep]
	\item $FK = \emptyset$
	\item $PK = CK = \{id\_pais\}$
\end{itemize}

% -------------------------------------------------------------------- %
% Ciudad
% -------------------------------------------------------------------- %

% \newpage
\noindent
\textbf{Ciudad}(\underline{
	id\_ciudad}, 
	nombre, \dotuline{
	id\_pais})
\begin{itemize}[noitemsep]
	\item $FK = \{id\_pais\}$
	\item $PK = CK = \{id\_ciudad\}$
	\item $Ciudad.id\_pais$ debe estar en $Pais.id\_pais$
\end{itemize}

% -------------------------------------------------------------------- %
% Aeropuerto
% -------------------------------------------------------------------- %

\vspace*{0.1cm}
\noindent
\textbf{Aeropuerto}(\underline{
	id\_a}, 
	tasa, 
	transporte, 
	nombre, \dotuline{
	id\_ciudad})

\begin{itemize}[noitemsep]
	\item $FK = \{id\_ciudad\}$
	\item $PK = CK = \{id\_a\}$
	\item $Aeropuerto.id\_ciudad$ debe estar en $Ciudad.id\_ciudad$
\end{itemize}
